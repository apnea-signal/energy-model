<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DNF Movement Intensity Dashboard Â· Apnea Energy</title>
    <link rel="stylesheet" href="./styles.css?v=20240530" />
    <link rel="icon" type="image/x-icon" href="../favicon.ico" />
  </head>
  <body>
    <nav class="top-nav" aria-label="Primary">
      <div class="nav-tier nav-tier--primary" role="menubar">
        <a class="nav-root-link" href="./exploration.html">Exploratory Dashboard</a>
        <a class="nav-root-link is-active" href="./movement_intensity.html" aria-current="page">Models</a>
        <a class="nav-root-link" href="./calculator_dnf.html">Calculators</a>
      </div>
      <div class="nav-tier nav-tier--secondary" role="navigation" aria-label="Models">
        <a class="subnav-link is-active" href="./movement_intensity.html" aria-current="page">DNF Movement Intensity</a>
        <a class="subnav-link" href="./propulsion_fit.html">DNF Oxygen Economy</a>
        <span class="subnav-link is-disabled" role="link" aria-disabled="true">DYNB Movement Intensity</span>
        <span class="subnav-link is-disabled" role="link" aria-disabled="true">DYNB Oxygen Economy</span>
      </div>
    </nav>
    <main>
      <section>
        <h1>DNF Movement Intensity Dashboard</h1>
        <p>
          This dashboard reads <code>03_movement_intensity.json</code> and visualizes the proposed arm vs leg modifiers for
          the first split of each attempt. Use it to sanity-check the per-athlete values before copying scalars into the
          annotated CSVs.
        </p>
        <p class="muted">
          Run <code>python 03_predict_DNF_movement_intensity.py</code> whenever the DNF annotations change to refresh the
          data underneath this page.
        </p>
        <div class="dataset-toolbar">
          <span class="dataset-toolbar__label">Dataset</span>
          <div class="dataset-menu" id="datasetMenu" role="tablist" aria-label="Dataset selector"></div>
        </div>
      </section>

      <section>
        <div class="section-header">
          <h2>Dataset Summary</h2>
          <p id="datasetLabel" class="muted"></p>
        </div>
        <div class="controls" id="ratioControls">
          <label>
            Arm / leg ratio
            <input type="range" id="ratioSlider" min="0.5" max="4" step="0.1" />
          </label>
          <label>
            Selected ratio
            <input type="number" id="ratioInput" step="0.1" min="0.1" />
          </label>
          <button type="button" id="ratioReset" class="button">Reset ratio</button>
        </div>
        <div id="metadataStats" class="stats-grid"></div>
        <aside id="metadataNote" class="note-shelf"></aside>
      </section>

      <section>
        <div class="section-header">
          <h2>Arm vs Leg Work Scatter</h2>
          <div class="controls">
            <label>
              Highlight athlete
              <select id="highlightSelect"></select>
            </label>
          </div>
        </div>
        <div id="intensityScatter" class="chart"></div>
        <aside id="scatterNote" class="note-shelf"></aside>
      </section>

      <section>
        <h2>Leaderboards</h2>
        <div id="leaderboardGrid" class="leaderboard-grid"></div>
      </section>

      <section>
        <h2>Per-Athlete Breakdown</h2>
        <div class="table-container">
          <div id="athleteTable" class="preview-table"></div>
        </div>
      </section>
    </main>
    <script type="module" src="./js/movementIntensity.js?v=20240530"></script>
  </body>
</html>
